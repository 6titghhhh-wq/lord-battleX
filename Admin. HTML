<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Lord Battle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
</head>
<body class="bg-slate-900 text-white p-6">
    <h1 class="text-3xl font-bold text-blue-500 mb-8 border-b border-blue-500/20 pb-4">LORD BATTLE ADMIN</h1>

    <div class="bg-slate-800 p-6 rounded-xl border border-blue-500/30 mb-8">
        <h2 class="text-xl font-bold mb-4 text-blue-400"><i class="fas fa-image"></i> Add Home Banner</h2>
        <input id="bUrl" type="text" placeholder="Paste ImgBB Direct Link here..." class="w-full p-3 bg-slate-700 rounded-lg mb-4 outline-none border border-white/10 focus:border-blue-500 text-sm">
        <button onclick="addBanner()" class="bg-blue-600 hover:bg-blue-700 px-8 py-2 rounded-lg font-bold transition-all">Update Banner</button>
    </div>

    <div class="bg-slate-800 p-6 rounded-xl border border-green-500/30">
        <h2 class="text-xl font-bold mb-4 text-green-400"><i class="fas fa-gamepad"></i> Create New Match</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <input id="mTitle" type="text" placeholder="Match Title (e.g. Daily Scrims)" class="p-3 bg-slate-700 rounded-lg outline-none border border-white/10">
            <input id="mCat" type="text" placeholder="Category (e.g. Squad Full Map)" class="p-3 bg-slate-700 rounded-lg outline-none border border-white/10">
            <input id="mPrize" type="number" placeholder="Total Prize Pool (₹)" class="p-3 bg-slate-700 rounded-lg outline-none border border-white/10">
            <input id="mKill" type="number" placeholder="Per Kill Prize (₹)" class="p-3 bg-slate-700 rounded-lg outline-none border border-white/10">
            <input id="mEntry" type="number" placeholder="Entry Fee (₹)" class="p-3 bg-slate-700 rounded-lg outline-none border border-white/10">
            <input id="mLogo" type="text" placeholder="Match Logo Link (ImgBB)" class="p-3 bg-slate-700 rounded-lg outline-none border border-white/10">
        </div>
        <textarea id="mRules" placeholder="Enter Match Rules & Timings..." class="w-full p-3 bg-slate-700 rounded-lg h-24 mb-4 outline-none border border-white/10"></textarea>
        <button onclick="addMatch()" class="w-full bg-green-600 hover:bg-green-700 py-3 rounded-lg font-bold text-xl uppercase tracking-widest transition-all">Publish Match</button>
    </div>

    <script>
        const firebaseConfig = {
          apiKey: "AIzaSyCurWhNMj-z586p5SxqZSmEDZ8Zi-oGN6o",
          authDomain: "battle-de8af.firebaseapp.com",
          databaseURL: "https://battle-de8af-default-rtdb.firebaseio.com",
          projectId: "battle-de8af",
          storageBucket: "battle-de8af.firebasestorage.app",
          messagingSenderId: "712422193110",
          appId: "1:712422193110:web:b5e28f3f7402d587db1677"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function addBanner() {
            const url = document.getElementById('bUrl').value;
            if(!url) return alert("Please paste a link!");
            db.ref('banners').push({ url }).then(() => {
                alert("Banner Updated Successfully!");
                document.getElementById('bUrl').value = '';
            });
        }

        function addMatch() {
            const data = {
                title: document.getElementById('mTitle').value,
                category: document.getElementById('mCat').value,
                prize: document.getElementById('mPrize').value,
                perkill: document.getElementById('mKill').value,
                entry: document.getElementById('mEntry').value,
                logo: document.getElementById('mLogo').value,
                rules: document.getElementById('mRules').value
            };
            
            if(!data.title || !data.entry) return alert("Please fill Title and Entry fee!");

            db.ref('matches').push(data).then(() => {
                alert("Match Posted Successfully!");
                location.reload(); // Refresh to clear form
            });
        }
    </script>
</body>
</html>
